{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\estoque\\\\front\\\\src\\\\Pages\\\\Login\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { ToggleButton, Imagemtopo, AjustarInput, Geral, Titulo, ConteudoForm, AlertSuccess, AlertDanger, Form, Container, Label, Input, ButtonSuccess, ConteudoTitulo } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Login(_ref) {\n  _s();\n  let {\n    statusLogin\n  } = _ref;\n  const [usuario, setUsuario] = useState({\n    user: '',\n    senha: ''\n  });\n  const [status, setStatus] = useState({\n    type: '',\n    mensagem: ''\n  });\n  const valorInput = e => setUsuario({\n    ...usuario,\n    [e.target.name]: e.target.value\n  });\n  const Login = async e => {\n    e.preventDefault();\n    await fetch(\"http://localhost/api-crud-php/login.php\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        usuario\n      })\n    }).then(response => response.json()).then(responseJson => {\n      if (responseJson.error) {\n        setStatus({\n          type: 'erro',\n          mensagem: responseJson.mensagem\n        });\n        statusLogin(0);\n      } else {\n        //redirecionar para gerente/funcionario\n        statusLogin(responseJson.tipo);\n      }\n    }).catch(() => {\n      setStatus({\n        type: 'erro',\n        mensagem: 'naos logado'\n      });\n      statusLogin(0);\n    });\n  };\n  const [showPassword, setShowPassword] = useState(false);\n  const handleTogglePassword = () => {\n    setShowPassword(!showPassword);\n  };\n  return /*#__PURE__*/_jsxDEV(Geral, {\n    children: [/*#__PURE__*/_jsxDEV(Imagemtopo, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(ConteudoForm, {\n        children: [/*#__PURE__*/_jsxDEV(ConteudoTitulo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), status.type === 'success' ? /*#__PURE__*/_jsxDEV(AlertSuccess, {\n          children: [\" \", status.mensagem, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 39\n        }, this) : \"\", status.type === 'erro' ? /*#__PURE__*/_jsxDEV(AlertDanger, {\n          children: [\" \", status.mensagem, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 36\n        }, this) : \"\", /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: Login,\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"user\",\n            onChange: valorInput,\n            placeholder: \"Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 95\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 100\n          }, this), /*#__PURE__*/_jsxDEV(AjustarInput, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: showPassword ? 'text' : 'password',\n              showPassword: showPassword,\n              name: \"senha\",\n              onChange: valorInput,\n              placeholder: \"Senha\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 156\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 161\n            }, this), /*#__PURE__*/_jsxDEV(ToggleButton, {\n              type: \"button\",\n              onClick: handleTogglePassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ButtonSuccess, {\n            type: \"submit\",\n            children: \" Login \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 7\n  }, this);\n}\n_s(Login, \"OTqc5qCkRTqOjB4TqrLLfbT/Xnw=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","ToggleButton","Imagemtopo","AjustarInput","Geral","Titulo","ConteudoForm","AlertSuccess","AlertDanger","Form","Container","Label","Input","ButtonSuccess","ConteudoTitulo","jsxDEV","_jsxDEV","Login","_ref","_s","statusLogin","usuario","setUsuario","user","senha","status","setStatus","type","mensagem","valorInput","e","target","name","value","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","responseJson","error","tipo","catch","showPassword","setShowPassword","handleTogglePassword","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/dev/estoque/front/src/Pages/Login/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\n\r\nimport { ToggleButton, Imagemtopo, AjustarInput, Geral, Titulo, ConteudoForm, AlertSuccess, AlertDanger, Form, Container, Label, Input, ButtonSuccess,  ConteudoTitulo} from './styles';\r\n\r\n\r\nexport function Login({statusLogin}){\r\n\r\n  const [usuario, setUsuario] = useState({\r\n    user: '',\r\n    senha: ''\r\n  })\r\n\r\n  const [status, setStatus] = useState({\r\n    type: '',\r\n    mensagem: ''\r\n  })\r\n\r\n  const valorInput = e => setUsuario({ ...usuario, [e.target.name]: e.target.value});\r\n\r\n  const Login = async e =>{\r\n    e.preventDefault();\r\n    \r\n\r\n    await fetch(\"http://localhost/api-crud-php/login.php\", {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({usuario})\r\n    })\r\n    .then((response) => response.json())\r\n    .then((responseJson) => {\r\n      if(responseJson.error){\r\n        setStatus({\r\n          type: 'erro',\r\n          mensagem: responseJson.mensagem,\r\n        });\r\n        statusLogin(0);\r\n      }else{\r\n        //redirecionar para gerente/funcionario\r\n        statusLogin(responseJson.tipo);\r\n      }\r\n    }).catch(() => {\r\n      setStatus({\r\n        type: 'erro', \r\n        mensagem: 'naos logado',\r\n      });\r\n      statusLogin(0);\r\n    });\r\n  }\r\n\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const handleTogglePassword = () => {\r\n    setShowPassword(!showPassword);\r\n  }\r\n  \r\n    return (\r\n      <Geral>\r\n        \r\n        <Imagemtopo></Imagemtopo>\r\n        <Container>  \r\n          <ConteudoForm>\r\n\r\n          <ConteudoTitulo>\r\n\r\n          \r\n          </ConteudoTitulo>\r\n          {status.type === 'success'? <AlertSuccess> {status.mensagem} </AlertSuccess>: \"\"}\r\n          {status.type === 'erro'? <AlertDanger> {status.mensagem} </AlertDanger>: \"\"}\r\n\r\n          \r\n            <Form onSubmit={Login}>\r\n              \r\n              <Input type=\"text\" name=\"user\"  onChange={valorInput} placeholder = \"Usuario\"/> <br/><br/>\r\n\r\n              <AjustarInput>\r\n                <Input  type={showPassword ? 'text' : 'password'}  showPassword={showPassword} name=\"senha\" onChange={valorInput} placeholder = \"Senha\" /> <br/><br/>\r\n                <ToggleButton type=\"button\"  onClick={handleTogglePassword}></ToggleButton>\r\n              </AjustarInput>\r\n              \r\n              <ButtonSuccess type=\"submit\"> Login </ButtonSuccess>\r\n\r\n            </Form>\r\n          </ConteudoForm>\r\n        </Container>\r\n      </Geral>\r\n    );\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}